function Docs(){this.init(),this.pjax()}function stripHash(t){return t.href.replace(/#.*/,"")}Docs.prototype.init=function(){this.toc=$(".docs-toc"),this.content=$(".docs-content"),this.navbar(),this.elements(),this.anchorTags(),this.activePage(),this.docsearch()},Docs.prototype.docsearch=function(){var t=window.algoliaApi,n=window.currentDoc;if(n&&t&&""!=t.key){var o=docsearch({autocompleteOptions:{},apiKey:t.key,indexName:t.index,inputSelector:"#search",algoliaOptions:{hitsPerPage:5,facetFilters:["project:"+n.id,"version:"+n.version]}}),e=this;o.autocomplete.off("autocomplete:selected"),o.autocomplete.on("autocomplete:selected",function(t,n){o.autocomplete.autocomplete.setVal(""),e.handleClick(t,n.url)})}},Docs.prototype.handleClick=function(t,n){n=n.replace("#pjax-container","");var o=$("<a>",{href:n})[0];(location.protocol!==o.protocol||location.hostname!==o.hostname||o.href.indexOf("#")>-1&&stripHash(o)==stripHash(location))&&(location.href=o.href),$.pjax.click($.Event("click",{currentTarget:o}),"#pjax-container")},Docs.prototype.pjax=function(){var t=$(document),n=this;t.pjax("a","#pjax-container"),t.on("pjax:success",function(t,o,e,c,i){n.init(),n.scrollTo(),Prism.highlightAll()})},Docs.prototype.scrollTo=function(){var t=0,n=location.hash;if(n){var o=decodeURIComponent(n.slice(1)),e=document.getElementById(o)||document.getElementsByName(o)[0];e&&(t=$(e).offset().top)}"number"==typeof t&&$(window).scrollTop(t-12)},Docs.prototype.elements=function(){this.content.find("table").addClass("table table-striped table-bordered table-hover table-condensed"),this.content.find("img").addClass("img-responsive img-thumbnail"),this.content.find("iframe").each(function(){$(this).wrap('<div class="embed-responsive embed-responsive-16by9"></div>').addClass("embed-responsive-item")}),this.content.find("blockquote:contains({attention})").addClass("callout callout-danger"),this.content.find("blockquote:contains({attention})").length>0&&$.each(this.content.find("blockquote:contains({attention})"),function(t,n){$(n).html($(n).html().replace("{attention}",""))}),this.content.find("blockquote:contains(danger)").addClass("callout callout-danger"),this.content.find("blockquote:contains({danger})").length>0&&$.each(this.content.find("blockquote:contains({danger})"),function(t,n){$(n).html($(n).html().replace("{danger}",""))}),this.content.find("blockquote:contains({warning})").addClass("callout callout-warning"),this.content.find("blockquote:contains({warning})").length>0&&$.each(this.content.find("blockquote:contains({warning})"),function(t,n){$(n).html($(n).html().replace("{warning}",""))}),this.content.find("blockquote:contains({notice})").addClass("callout callout-warning"),this.content.find("blockquote:contains({notice})").length>0&&$.each(this.content.find("blockquote:contains({notice})"),function(t,n){$(n).html($(n).html().replace("{notice}",""))}),this.content.find("blockquote:contains({info})").addClass("callout callout-info"),this.content.find("blockquote:contains({info})").length>0&&$.each(this.content.find("blockquote:contains({info})"),function(t,n){$(n).html($(n).html().replace("{info}",""))}),this.content.find("blockquote:contains({note})").addClass("callout callout-info"),this.content.find("blockquote:contains({note})").length>0&&$.each(this.content.find("blockquote:contains({note})"),function(t,n){$(n).html($(n).html().replace("{note}",""))}),this.content.find("blockquote:contains({hint})").addClass("callout callout-success"),this.content.find("blockquote:contains({hint})").length>0&&$.each(this.content.find("blockquote:contains({hint})"),function(t,n){$(n).html($(n).html().replace("{hint}",""))}),this.content.find("blockquote:contains({tip})").addClass("callout callout-success"),this.content.find("blockquote:contains({tip})").length>0&&$.each(this.content.find("blockquote:contains({tip})"),function(t,n){$(n).html($(n).html().replace("{tip}",""))})},Docs.prototype.activePage=function(){this.toc.find('a[href$="/'+this.toc.data("current-page")+'"]').parent().addClass("active")},Docs.prototype.anchorTags=function(){this.content.find("h2, h3, h4, h5, h6").each(function(){if("BLOCKQUOTE"!==$(this).parent().get(0).tagName){var t=$(this).text().toLowerCase().trim();[/ /g].forEach(function(n){t=t.replace(n,"-")}),[/\[/g,/\]/g,/\(/g,/\)/g,/\:/g].forEach(function(n){t=t.replace(n,"")}),t=t.replace(/\./g,""),$(this).append(' <a class="header-anchor" id="'+t+'" href="#'+t+'"></a>')}})},Docs.prototype.navbar=function(){var t=$(this.toc.html());$(".docs-nav-toc").replaceWith(t),t.addClass("nav navbar-nav docs-nav-toc"),t.find(">li").each(function(){var t=$(this),n=t.find("p");n.length?(t.addClass("dropdown"),t.find("ul").addClass("dropdown-menu"),n.replaceWith('<a href="#" class="dropdown-toggle" data-toggle="dropdown">'+n.html()+' <span class="caret"></span></a>')):(t.find("ul>li").each(function(){t.after($(this))}),t.remove())})},new Docs;
